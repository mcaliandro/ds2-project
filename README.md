# Distributed System 2 project
by Matteo Caliandro, e-mail: <matteo.caliandro@unitn.it>

The project implementation is based on:  
- *L. Rodrigues, S. Hansurukande, J. Pereira, R. Guerraoui, A-M. Kermarrec. (2003). Adaptive Gossip-Based Broadcast.*  

The gossip-based algorithm is based on:  
- *P. Eugster, R. Guerraoui, S. Handurukande, P. Kuznetsov, A-M. Kermarrec. (2001). Lightweight Probabilistic Broadcast.*  

## How to run the project
You can run the project as a console application: open a terminal, move to project root and execute the application with the following command (in Linux or MacOS):

```bash
./gradlew run
```

## How the application works

The applications uses a configuration file called ```system.conf``` (placed in ```src/main/resources```) that contains all the paramenters used by the Akka actors (system nodes) to perform the following setups:  
- initialize the internal buffers dimension (a random number between *min-buffer* and *max-buffer*) and the random timeout to generate a new event (between *min-delay* and *max-delay*);  
- configure the Lightweight Probabilistic Broadcast (*lpbcast*) algorithm with the parameters *T*, *F* and *k*;  
- configure the Adaptive Gossip-Based Broadcast (*agbbcast*) algorithm with the parameters *max* (maximum tokens available for each node), *S*, *delta*, *H*, *L*, *alpha*, *rH*, *rL*, and *W*. 

When nodes have finished the initialization procedure, they start the protocol by generating new events and gossiping them. During the execution, it is possible to pause and resume the system in order to give a look the logs generated by each node. By default, the application is configured to show the *debug* logs (see the configuration file ```src/main/resources/system.conf```), in which are shown the information about the internal state of the node and the content of a gossip message when it is received by a node.

The console application accepts the following commands when the protocol is running:  
- **s**: pause the system if each node is in *running* state, otherwise resume it (all nodes in *paused* state).  
- **q**: terminate the system.  
